# üéõÔ∏è DSP Flow Editor

–í–µ–±-—Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ö–µ–º —Ü–∏—Ñ—Ä–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ (DSP) –Ω–∞ –±–∞–∑–µ React Flow —Å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º–∏ –Ω–∞ backend-—Å–µ—Ä–≤–µ—Ä–µ Go.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **Drag & Drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - —É–¥–æ–±–Ω–æ–µ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –±–ª–æ–∫–æ–≤ DSP –Ω–∞ —Ö–æ–ª—Å—Ç
- **–í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ –±–µ–∑ –∫–æ–¥–∞
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ/–ó–∞–≥—Ä—É–∑–∫–∞** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ö–µ–º –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –±–ª–æ–∫–∏** - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å

## üì¶ –î–æ—Å—Ç—É–ø–Ω—ã–µ –±–ª–æ–∫–∏ (–Ω–∞—á–∞–ª—å–Ω—ã–π —ç—Ç–∞–ø)

### 1. –í—Ö–æ–¥–Ω–æ–π —Å–∏–≥–Ω–∞–ª „Ä∞Ô∏è
–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –≤—Ö–æ–¥–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
- –ß–∞—Å—Ç–æ—Ç–∞ (–ì—Ü)
- –ê–º–ø–ª–∏—Ç—É–¥–∞
- –¢–∏–ø —Å–∏–≥–Ω–∞–ª–∞ (sine, square, triangle)

### 2. –ö–ò–•-–§–∏–ª—å—Ç—Ä ‚ö°
–§–∏–ª—å—Ç—Ä —Å –∫–æ–Ω–µ—á–Ω–æ–π –∏–º–ø—É–ª—å—Å–Ω–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–æ–π (FIR):
- –ü–æ—Ä—è–¥–æ–∫ —Ñ–∏–ª—å—Ç—Ä–∞
- –ß–∞—Å—Ç–æ—Ç–∞ —Å—Ä–µ–∑–∞ (–ì—Ü)
- –¢–∏–ø —Ñ–∏–ª—å—Ç—Ä–∞ (lowpass, highpass, bandpass)

### 3. –û—Å—Ü–∏–ª–ª–æ–≥—Ä–∞—Ñ üìä
–í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ —Å–∏–≥–Ω–∞–ª–∞:
- –í—Ä–µ–º–µ–Ω–Ω–æ–µ –æ–∫–Ω–æ (–º—Å)
- –ß–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏ (–ì—Ü)

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Frontend
- **React 19** - UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- **React Flow** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è node-based –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- **Vite** - —Å–±–æ—Ä—â–∏–∫ –∏ dev-—Å–µ—Ä–≤–µ—Ä
- **CSS3** - —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### Backend (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)
- **Go** - —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
- **REST API** - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –∏ –±—ç–∫–µ–Ω–¥–∞

## üìù –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js >= 18.0.0
- npm >= 8.0.0

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
npm install
```

### –ó–∞–ø—É—Å–∫ dev-—Å–µ—Ä–≤–µ—Ä–∞

```bash
npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É `http://localhost:5173`

### –°–±–æ—Ä–∫–∞ –¥–ª—è production

```bash
npm run build
```

### –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä production —Å–±–æ—Ä–∫–∏

```bash
npm run preview
```

## üéØ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã

1. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤** - –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –Ω—É–∂–Ω—ã–µ –±–ª–æ–∫–∏ –∏–∑ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –Ω–∞ —Ö–æ–ª—Å—Ç
2. **–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –±–ª–æ–∫–æ–≤** - –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –≤—ã—Ö–æ–¥–Ω–æ–π –ø–æ—Ä—Ç –æ–¥–Ω–æ–≥–æ –±–ª–æ–∫–∞ –∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –Ω–∞ –≤—Ö–æ–¥–Ω–æ–π –ø–æ—Ä—Ç –¥—Ä—É–≥–æ–≥–æ
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤** - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–∞–∂–¥–æ–≥–æ –±–ª–æ–∫–∞ (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ)
4. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ö–µ–º—ã** - –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å" –∏ –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ

### –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–π —Å—Ö–µ–º—ã

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üìÇ –ó–∞–≥—Ä—É–∑–∏—Ç—å"
2. –í—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—É—é —Å—Ö–µ–º—É –∏–∑ —Å–ø–∏—Å–∫–∞
3. –°—Ö–µ–º–∞ –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –Ω–∞ —Ö–æ–ª—Å—Ç

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ö–æ–ª—Å—Ç–æ–º

- **–ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ** - –∑–∞–∂–º–∏—Ç–µ –õ–ö–ú –Ω–∞ –ø—É—Å—Ç–æ–º –º–µ—Å—Ç–µ –∏ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–ª–µ—Å–æ –º—ã—à–∏ –∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–∞ –≤–Ω–∏–∑—É
- **–£–¥–∞–ª–µ–Ω–∏–µ –±–ª–æ–∫–∞** - –≤—ã–¥–µ–ª–∏—Ç–µ –±–ª–æ–∫ –∏ –Ω–∞–∂–º–∏—Ç–µ Delete/Backspace
- **–£–¥–∞–ª–µ–Ω–∏–µ —Å–≤—è–∑–∏** - –≤—ã–¥–µ–ª–∏—Ç–µ —Å–≤—è–∑—å –∏ –Ω–∞–∂–º–∏—Ç–µ Delete/Backspace

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Go Backend

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

–í —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ —Å—Ö–µ–º—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `localStorage` –±—Ä–∞—É–∑–µ—Ä–∞. –≠—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–∏—Ä–æ–≤–∞–Ω–∏—è.

### –ü–ª–∞–Ω–∏—Ä—É–µ–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

```javascript
// –ü—Ä–∏–º–µ—Ä –±—É–¥—É—â–µ–≥–æ API endpoint –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
const onSave = async (schemeName) => {
    const response = await fetch('http://localhost:8080/api/schemes', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
            'Authorization': `Bearer ${userToken}`
        },
        body: JSON.stringify({
            name: schemeName,
            nodes: flow.nodes,
            edges: flow.edges,
            viewport: flow.viewport
        })
    });
    
    return await response.json();
};
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Go Backend (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è)

```
backend/
‚îú‚îÄ‚îÄ main.go
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ handlers.go        # HTTP handlers
‚îÇ   ‚îî‚îÄ‚îÄ middleware.go      # Middleware (auth, cors)
‚îú‚îÄ‚îÄ dsp/
‚îÇ   ‚îú‚îÄ‚îÄ fir_filter.go      # –ö–ò–•-—Ñ–∏–ª—å—Ç—Ä
‚îÇ   ‚îú‚îÄ‚îÄ signal_gen.go      # –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–∏–≥–Ω–∞–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ processing.go      # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Ö–µ–º
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ scheme.go          # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ storage/
    ‚îî‚îÄ‚îÄ database.go        # –ë–î –æ–ø–µ—Ä–∞—Ü–∏–∏
```

### API Endpoints (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ)

```
POST   /api/schemes          - –°–æ–∑–¥–∞—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å —Å—Ö–µ–º—É
GET    /api/schemes          - –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Å—Ö–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET    /api/schemes/:id      - –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ö–µ–º—É
DELETE /api/schemes/:id      - –£–¥–∞–ª–∏—Ç—å —Å—Ö–µ–º—É
POST   /api/schemes/:id/run  - –ó–∞–ø—É—Å—Ç–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É —Å—Ö–µ–º—ã
```

## üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

–ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è:
- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ü—Ä–∏–≤—è–∑–∫–∞ —Å—Ö–µ–º –∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

## üìä –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤

### –ü–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

1. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ö–µ–º—É –Ω–∞ backend
2. Go —Å–µ—Ä–≤–µ—Ä –ø–∞—Ä—Å–∏—Ç —Å—Ö–µ–º—É –∏ —Å—Ç—Ä–æ–∏—Ç –≥—Ä–∞—Ñ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —É–∑–µ–ª –∑–∞ —É–∑–ª–æ–º
4. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥—É –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

### –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö —Å—Ö–µ–º—ã

```json
{
  "name": "Low Pass Filter Example",
  "nodes": [
    {
      "id": "node_0",
      "type": "block",
      "data": {
        "blockType": "–í—Ö–æ–¥–Ω–æ–π —Å–∏–≥–Ω–∞–ª",
        "params": {
          "frequency": 1000,
          "amplitude": 1.0,
          "signalType": "sine"
        }
      }
    },
    {
      "id": "node_1",
      "type": "block",
      "data": {
        "blockType": "–ö–ò–•-–§–∏–ª—å—Ç—Ä",
        "params": {
          "order": 64,
          "cutoff": 500,
          "filterType": "lowpass"
        }
      }
    }
  ],
  "edges": [
    {
      "source": "node_0",
      "target": "node_1"
    }
  ]
}
```

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±–ª–æ–∫–∞ DSP

1. **–î–æ–±–∞–≤—å—Ç–µ –±–ª–æ–∫ –≤ Toolbar.jsx:**
```javascript
{
    id: 'new-block',
    name: '–ù–æ–≤—ã–π –±–ª–æ–∫',
    icon: 'üîß',
    description: '–û–ø–∏—Å–∞–Ω–∏–µ –±–ª–æ–∫–∞',
}
```

2. **–î–æ–±–∞–≤—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ DSPEditor.jsx:**
```javascript
case '–ù–æ–≤—ã–π –±–ª–æ–∫':
    return {
        parameter1: 100,
        parameter2: 'value',
    };
```

3. **–î–æ–±–∞–≤—å—Ç–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ BlockNode.jsx:**
```javascript
case '–ù–æ–≤—ã–π –±–ª–æ–∫':
    return (
        <>
            <div className="block-param">
                <span className="block-param-label">–ü–∞—Ä–∞–º–µ—Ç—Ä:</span>
                <span className="block-param-value">{params.parameter1}</span>
            </div>
        </>
    );
```

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –±–ª–æ–∫–æ–≤ –ø–æ–∫–∞ –Ω–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É—é—Ç—Å—è –≤ UI (—Ç–æ–ª—å–∫–æ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è)
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ localStorage (–Ω–µ—Ç backend)
- –ù–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–∏–≥–Ω–∞–ª–æ–≤ (—Ç–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä)
- –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

## üöß Roadmap

- [ ] –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–ª–æ–∫–æ–≤ —á–µ—Ä–µ–∑ UI
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Go backend
- [ ] –†–µ–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤
- [ ] –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ –æ—Å—Ü–∏–ª–ª–æ–≥—Ä–∞—Ñ–µ
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º
- [ ] –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç —Å—Ö–µ–º –≤ JSON
- [ ] –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –≥–æ—Ç–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤
- [ ] –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
- [ ] –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (Undo/Redo)

